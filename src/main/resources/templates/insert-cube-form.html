<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

		 <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

		<!-- owner CSS -->
		<link rel="stylesheet" href="/owner/style.css"/>

		<title>Insert new cube</title>

        <style>
            .help-msg {
                font-weight: bolder;
            }
        </style>
	</head>

  	<body>
    	<header class="navbar navbar-expand-lg navbar-light bg-nu-color">
            <a class="navbar-brand text-center flex-sm-fill" href="/">
                <div class="text-center">
                    <i class="fas fa-cubes fa-3x text-white d-inline-block align-middle"></i>
                </div>
                <span class="h4 text-white">Cuber Shop</span>
            </a>
        </header>

        <div class="container-fluid">
        	<div class="row justify-content-center mt-5 mb-5">
        		<div class="col-5">
        			<form class="border border-light p-4 rounded shadow-lg" method="POST" enctype="multipart/form-data" th:action="@{|~/form/insertCube/submit|}" action="insert-cube-form.html" th:object="${cube}" autocomplete="off" target="_parent">
                        <div class="mb-3">
                        	<label for="cube-name" class="form-label">Cube name:</label>
                            <input type="text" name="cube-name" class="form-control" id="cube-name" placeholder="Enter cube name" th:field="*{name}" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-price" class="form-label">Price:</label>
                            <input type="text" name="cube-price" id="cube-price" class="form-control" th:field="*{price}" placeholder="R$ xx,xx" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('price')}" th:errors="*{price}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-type" class="form-label">Type:</label>
	                        <select class="form-select w-100" name="cube-type" id="cube-type" th:field="*{type}">
	                            <option value="2x2x2">2x2x2</option>
	                            <option value="3x3x3">3x3x3</option>
	                            <option value="4x4x4">4x4x4</option>
	                            <option value="5x5x5">5x5x5</option>
	                            <option value="big">big</option>
	                        </select>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('type')}" th:errors="*{type}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-color-pattern" class="form-label">Color Pattern:</label>
                            <select name="cube-color-pattern" id="cube-color-pattern" class="form-select w-100" th:field="*{colorPattern}">
                                <option th:each="pattern : ${patterns}" th:value="${pattern}" th:text="${pattern}" value="Color">Color</option>
                            </select>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('colorPattern')}" th:errors="*{colorPattern}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-size" class="form-label">Size:</label>
                            <input type="number" id="cube-size" name="cube-size" class="form-control" th:field="*{size}"/ placeholder="50" value="50" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('size')}" th:errors="*{size}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-brand" class="form-label">Brand:</label>
                            <select id="cube-brand" name="cube-brand" th:field="*{brand}" class="form-select w-100">
                                <option th:each="brand : ${brands}" th:value="${brand}" th:text="${brand}" value="DNA">dna</option>
                            </select>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('brand')}" th:errors="*{brand}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-images" class="form-label">Images:</label>
                            <input type="file" multiple="multiple" id="cube-images" name="cube-files" class="form-control" th:field="*{imageFile}"/>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('imageFile')}" th:errors="*{imageFile}">We'll never share your data with anyone else.</small>
                            <small class="form-text text-muted">Select at least two images with max size of 100KB</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-description" class="form-label">Description:</label>
                            <textarea class="form-control" id="cube-description" name="cube-description" th:field="*{description}"></textarea>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mt-2 text-center">
                            <button type="submit" class="btn btn-outline-info w-50">Submit</button>
                        </div>
                    </form>
        		</div>
        	</div>
        </div>
        
        <!-- Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

        <!-- Fontawesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />

        <script>
            const helpMsgs = document.querySelectorAll(".help-msg");

            for(let h of helpMsgs) {
                const children = h.parentElement.children;
                children[1].onfocus = () => h.style.display = "none";
            }
        </script>
	</body>
</html>