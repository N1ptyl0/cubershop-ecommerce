<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

		<!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"/>

		<!-- owner CSS -->
		<link rel="stylesheet" href="/owner/style.css"/>

		<title>Add new cube</title>

        <style>
            .help-msg {
                font-weight: bolder;
            }
        </style>
	</head>

  	<body>
    	<header class="navbar navbar-expand-lg navbar-light bg-nu-color justify-content-center">
            <a class="navbar-brand text-center flex-sm-fill" href="/">
                <div class="text-center">
                    <i class="fas fa-cubes fa-3x text-white d-inline-block align-middle"></i>
                </div>
                <span class="h4 text-white">Cuber Shop</span>
            </a>
        </header>

        <div class="container-fluid">
        	<div class="row justify-content-center mt-5 mb-5">
        		<div class="col-12 col-sm-10 col-md-8 col-lg-6">
        			<form class="border border-light p-4 rounded shadow" method="POST" enctype="multipart/form-data" th:action="@{|~#{route.cube.save}|}" action="cube-form.html" th:object="${cube}" autocomplete="off" target="_parent">
                        <div class="mb-3">
                        	<label for="cube-name" class="form-label">Cube name:</label>
                            <input type="text" name="cube-name" class="form-control" id="cube-name" placeholder="Enter cube name" th:field="*{name}" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-price" class="form-label">Price:</label>
                            <input type="text" name="cube-price" id="cube-price" class="form-control" th:field="*{price}" placeholder="R$ xx,xx" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('price')}" th:errors="*{price}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-type" class="form-label">Type:</label>
	                        <select class="form-select" name="cube-type" id="cube-type" th:field="*{type}">
	                            <option th:each="cat : ${categories}" th:value="${cat}" value="2x2x2" th:text="${cat}">2x2x2</option>
	                        </select>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('type')}" th:errors="*{type}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-color-pattern" class="form-label">Color Pattern:</label>
                            <input type="text" name="cube-color-pattern" class="form-control" id="cube-color-pattern" placeholder="Enter cube color pattern" th:field="*{colorPattern}" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('colorPattern')}" th:errors="*{colorPattern}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mb-3">
                            <label for="cube-brand" class="form-label">Brand:</label>
                            <input type="text" name="cube-brand" class="form-control" id="cube-brand" placeholder="Enter cube brand" th:field="*{brand}" />
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('brand')}" th:errors="*{brand}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6 mb-3 mb-md-0">
                                <label for="cube-size" class="form-label">Size:</label>
                                <input type="number" id="cube-size" name="cube-size" class="form-control" th:field="*{size}" placeholder="50" value="50" />
                                <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('size')}" th:errors="*{size}">We'll never share your data with anyone else.</small>
                            </div>
                            <div class="col-md-6">
                                <label for="cube-quantity" class="form-label">Quantity in stock:</label>
                                <input type="number" id="cube-quantity" name="cube-quantity" class="form-control" th:field="*{quantity}" placeholder="50"/>
                                <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}">We'll never share your data with anyone else.</small>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6 mb-3 mb-md-0">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="is-magnetic" th:field="*{magnetic}"/>
                                    <label class="form-check-label" for="is-magnetic">Is magnetic</label>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="availability" th:field="*{stock}">
                                    <label class="form-check-label" for="availability">Is available</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-images" class="form-label">Images:</label>
                            <input type="file" multiple="multiple" id="cube-images" name="cube-files" class="form-control" th:field="*{imageFiles}"/>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('imageFiles')}" th:errors="*{imageFiles}">We'll never share your data with anyone else.</small>
                            <small class="form-text text-muted d-block">Select at least two images of 1000x600 px with max size of 100KB</small>
                        </div>

                        <div class="mb-3">
                        	<label for="cube-description" class="form-label">Description:</label>
                            <textarea class="form-control" id="cube-description" name="cube-description" th:field="*{description}"></textarea>
                            <small class="form-text text-danger help-msg" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">We'll never share your data with anyone else.</small>
                        </div>

                        <div class="mt-5 text-center">
                            <button type="submit" class="btn btn-outline-success w-100">Submit</button>
                        </div>
                    </form>
        		</div>
        	</div>
        </div>
        
        <!-- Popper.js, then Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>


        <!-- Fontawesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />

        <script>
            const helpMsgs = document.querySelectorAll(".help-msg");

            for(let h of helpMsgs) {
                const children = h.parentElement.children;
                children[1].onfocus = () => h.style.display = "none";
            }
        </script>
	</body>
</html>